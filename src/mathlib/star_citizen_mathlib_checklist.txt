
STAR CITIZENâ€“GRADE MATHLIB CHECKLIST

âœ… = must have
ğŸ”¶ = important but optional (for now)
â›” = donâ€™t add unless you really need it

Vector3_f and Vector3_d
------------------------

ğŸ¯ Core Operators
- âœ… +, -, *, / with scalars
- âœ… +, -, *, / with other vectors
- âœ… ==, !=, - unary
- âœ… Index access v[0], v[1], v[2]

ğŸ¯ Length & Distance
- âœ… Length()
- âœ… LengthSqr()
- âœ… Distance(const Vector3&)
- âœ… DistanceSqr(const Vector3&)

ğŸ¯ Normalization
- âœ… Normalize() (in-place)
- âœ… Normalized() (returns copy)

ğŸ¯ Dot/Cross
- âœ… Dot(const Vector3&)
- âœ… Cross(const Vector3&)

ğŸ¯ Utility
- âœ… IsZero()
- âœ… IsFinite()
- âœ… ClampLength(float maxLen) ğŸ”¶
- âœ… Reflect(normal) ğŸ”¶
- âœ… Lerp(a, b, t) ğŸ”¶
- âœ… Abs() ğŸ”¶

Matrix4x4_f and Matrix4x4_d
---------------------------

ğŸ¯ Construction
- âœ… static Identity()
- âœ… static Translate(const Vector3&)
- âœ… static Scale(const Vector3&)
- âœ… static Rotate(axis, angle_rad) ğŸ”¶
- âœ… static LookAt(eye, target, up) ğŸ”¶
- âœ… static Perspective(fov, aspect, near, far) ğŸ”¶
- âœ… static Ortho(left, right, bottom, top, near, far) ğŸ”¶

ğŸ¯ Operators
- âœ… operator*(const Matrix4x4&)
- âœ… operator*(const Vector3&) (assume w = 1)

ğŸ¯ Functions
- âœ… Transpose()
- âœ… Inverse() ğŸ”¶
- âœ… IsIdentity() ğŸ”¶
- âœ… ToFloat() and ToDouble()

Required For Floating Origin / Streaming
----------------------------------------

Feature                        | Why it's needed
------------------------------|-----------------------------
Vector3_d - Vector3_d          | Star relative to camera origin
ToFloat(Vector3_d)            | To send relative star/sphere pos to GPU
Matrix4x4_d::Translate        | For placing planets, stations in world-space
Matrix4x4_d::ToFloat()        | To get float MVP for rendering
Vector3_d::Length()           | Distance checks for LOD and culling
Vector3_d::Normalize()        | Direction vectors, normal math
Matrix4x4_d::LookAt()         | For view matrix in double precision
Matrix4x4_d::Perspective()    | For consistent projection

BONUS: Precision Conversions
----------------------------

In precision_convert.h you already have:

Vector3_f ToFloat(const Vector3_d&);
Vector3_d ToDouble(const Vector3_f&);
Matrix4x4_f ToFloat(const Matrix4x4_d&);
Matrix4x4_d ToDouble(const Matrix4x4_f&);

Add more if you introduce Quaternion, AABB, Ray, etc.

ğŸ’¡ Tip: Mirror API Exactly

Make Vector3_d identical in function and naming to Vector3_f.
Same for Matrix4x4. Then:

#ifdef USE_DOUBLE
using Vector3 = Vector3_d;
using Matrix4x4 = Matrix4x4_d;
#else
using Vector3 = Vector3_f;
using Matrix4x4 = Matrix4x4_f;
#endif

â­ï¸ Next Step
------------
Build headers with all the functions (even if unimplemented).
Ensure both float and double mathlibs mirror each other.
