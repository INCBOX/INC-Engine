

Header inclusion guideline:
imdl_runtime.h depends on imdl_cpu.h and imdl_gpu.h because it has members of those types (std::shared_ptr<IMDL_CPU> and std::shared_ptr<IMDL_GPU>). So imdl_runtime.h must include both imdl_cpu.h and imdl_gpu.h.

Other files that only use IMDL_CPU or IMDL_GPU directly should include those headers individually.

You don't have to include both imdl_cpu.h and imdl_gpu.h everywhere; only include what you use. For example:

Files that only operate on CPU data include imdl_cpu.h.

Files that only operate on GPU data include imdl_gpu.h.

Files that use IMDL_RUNTIME include imdl_runtime.h (which itself includes the CPU/GPU headers).



The old IMDLGeometry → new IMDL_CPU

The old IMDLModel → new IMDL_GPU